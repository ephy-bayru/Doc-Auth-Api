
# Document or Certificate Authorization App Entities

## User Entity

- **_id**: ObjectId
- **email**: string
- **password**: string (hashed password)
- **roleId**: ObjectId
- **firstName**: string
- **lastName**: string
- **gender**: string
- **phoneNumber**: string
- **address**: string
- **createdAt**: Date
- **updatedAt**: Date
- **deleted**: boolean
- **ethereumAddress**: string (Ethereum address of the user)

## Organization Entity

- **_id**: ObjectId
- **name**: string
- **email**: string
- **password**: string (hashed password)
- **phoneNumber**: string
- **address**: string
- **roleId**: ObjectId
- **createdAt**: Date
- **updatedAt**: Date
- **deleted**: boolean
- **ethereumAddress**: string (Ethereum address of the organization)

## Document Entity

- **_id**: ObjectId
- **hash**: string (unique hash generated from the IPFS link)
- **original**: boolean (indicator of whether the document is original or not)
- **ownerId**: ObjectId (reference to the User or Organization)
- **authorized**: boolean (indicator of whether the document has been authorized by an organization)
- **tokenId**: string (token associated with the document, generated by an organization)
- **fileName**: string
- **fileType**: string
- **createdAt**: Date
- **updatedAt**: Date
- **deleted**: boolean

## Role Entity

- **_id**: ObjectId
- **name**: string
- **description**: string
- **createdAt**: Date
- **updatedAt**: Date
- **deleted**: boolean

## Permission Entity

- **_id**: ObjectId
- **name**: string
- **description**: string
- **createdAt**: Date
- **updatedAt**: Date
- **deleted**: boolean

## RolePermission Entity

- **_id**: ObjectId
- **roleId**: ObjectId
- **permissionId**: ObjectId

## Certificate Entity

- **_id**: ObjectId
- **tokenId**: string (token associated with the certificate, generated by an organization)
- **documentId**: ObjectId (reference to the Document)
- **authorized**: boolean (indicator of whether the certificate has been authorized by an organization)
- **ownerId**: ObjectId (reference to the User or Organization)
- **createdAt**: Date
- **updatedAt**: Date
- **deleted**: boolean

## Notification Entity

- **_id**: ObjectId
- **recipientId**: ObjectId (reference to the User or Organization)
- **type**: string (e.g., "document_authorized", "document_declined")
- **message**: string (message associated with the notification)
- **createdAt**: Date
- **updatedAt**: Date
- **deleted**: boolean

## TwoFactorAuth Entity

- **_id**: ObjectId
- **userId**: ObjectId (reference to the User)
- **secret**: string (secret used for generating OTPs)
- **lastUsed**: Date (timestamp of the last usage of OTP, can be used to prevent replay attacks)

## UserTokens Entity

- **_id**: ObjectId
- **userId**: ObjectId (reference to the User)
- **token**: string (the actual token, could be a JWT)
- **expiresAt**: Date (the expiration date/time of the token)

## RefreshTokens Entity

- **_id**: ObjectId
- **userId**: ObjectId (reference to the User)
- **token**: string (the actual refresh token)
- **expiresAt**: Date (the expiration date/time of the refresh token)

## PasswordResetTokens Entity

- **_id**: ObjectId
- **userId**: ObjectId (reference to the User)
- **token**: string (the actual password reset token)
- **expiresAt**: Date (the expiration date/time of the password reset token)

---

This summary includes the basic entities needed for a Document or Certificate Authorization App using blockchain technology, focusing on user and organization management, document handling, and authorization processes.
